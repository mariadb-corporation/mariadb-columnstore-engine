USE autopilot;
TRUNCATE TABLE jsontest;
SET @json = '{ "A": 1, "B": [2, 3]}';
SELECT @json;
@json
{ "A": 1, "B": [2, 3]}
INSERT INTO jsontest VALUES (1, @json, @json);
SELECT @json, JSON_COMPACT(@json);
@json	JSON_COMPACT(@json)
{ "A": 1, "B": [2, 3]}	{"A":1,"B":[2,3]}
SELECT * FROM jsontest;
cInt	cVarchar	cText
1	{ "A": 1, "B": [2, 3]}	{ "A": 1, "B": [2, 3]}
SELECT cVarchar, JSON_COMPACT(cVarchar), cText, JSON_COMPACT(cText) from jsontest;
ERROR 42000: The storage engine for the table doesn't support MCS-1001: Function 'json_compact' isn't supported.
TRUNCATE TABLE jsontest;
